# Руководство по участию в проекте Portfolio Risk

## Правила коммитов

### Формат коммитов

Мы используем [Conventional Commits](https://www.conventionalcommits.org/) для стандартизации сообщений коммитов:

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

### Типы коммитов

- **feat**: новая функциональность
- **fix**: исправление ошибки
- **docs**: изменения в документации
- **style**: изменения форматирования (пробелы, точки с запятой и т.д.)
- **refactor**: рефакторинг кода без изменения функциональности
- **perf**: улучшения производительности
- **test**: добавление или изменение тестов
- **chore**: изменения в процессе сборки или вспомогательных инструментах
- **ci**: изменения в CI/CD конфигурации
- **build**: изменения в системе сборки или внешних зависимостях

### Примеры коммитов

```bash
feat(auth): добавить JWT аутентификацию
fix(api): исправить ошибку валидации в TradeController
docs: обновить README с инструкциями по установке
style(frontend): исправить отступы в компонентах
refactor(backend): вынести общую логику в сервисный слой
test(api): добавить тесты для торговых операций
chore: обновить зависимости до последних версий
ci: добавить проверку безопасности в GitHub Actions
```

### Правила для сообщений коммитов

1. Используйте повелительное наклонение ("добавить", а не "добавлен")
2. Не ставьте точку в конце заголовка
3. Заголовок не должен превышать 50 символов
4. Отделяйте заголовок от тела пустой строкой
5. Используйте тело коммита для объяснения "что" и "почему", а не "как"

## Правила Pull Request

### Перед созданием PR

1. **Создайте ветку** от `main` с описательным названием:
   ```bash
   git checkout -b feature/user-authentication
   git checkout -b fix/trade-calculation-bug
   git checkout -b docs/api-documentation
   ```

2. **Убедитесь, что код работает**:
   ```bash
   # Фронтенд
   cd frontend && npm run build && npm test
   
   # Бэкенд
   cd backend && ./mvnw test
   ```

3. **Проверьте стиль кода**:
   ```bash
   # Фронтенд
   cd frontend && npm run lint
   
   # Бэкенд - используйте IDE форматирование
   ```

### Требования к Pull Request

#### Заголовок PR
- Используйте тот же формат, что и для коммитов
- Будьте конкретными и описательными
- Примеры:
  - `feat: добавить аутентификацию пользователей`
  - `fix: исправить расчет прибыли в торговых сделках`
  - `docs: добавить API документацию`

#### Описание PR
Используйте следующий шаблон:

```markdown
## Описание
Краткое описание изменений и их цель.

## Тип изменений
- [ ] Исправление ошибки (fix)
- [ ] Новая функциональность (feat)
- [ ] Критическое изменение (breaking change)
- [ ] Обновление документации (docs)

## Как протестировать
1. Шаги для воспроизведения
2. Ожидаемое поведение
3. Скриншоты (если применимо)

## Чеклист
- [ ] Код следует стандартам проекта
- [ ] Проведено самостоятельное тестирование
- [ ] Код прокомментирован в сложных местах
- [ ] Внесены соответствующие изменения в документацию
- [ ] Изменения не генерируют новых предупреждений
- [ ] Добавлены тесты для новой функциональности
- [ ] Все новые и существующие тесты проходят
```

### Процесс ревью

1. **Автоматические проверки**: PR должен пройти все CI/CD проверки
2. **Ревью кода**: Минимум один approve от другого разработчика
3. **Тестирование**: Функциональность должна быть протестирована
4. **Документация**: Обновлена при необходимости

### Правила для ревьюеров

1. **Будьте конструктивными** - предлагайте решения, а не только указывайте на проблемы
2. **Проверяйте логику** - убедитесь, что код делает то, что должен
3. **Следите за производительностью** - обращайте внимание на потенциальные узкие места
4. **Проверяйте безопасность** - ищите уязвимости и небезопасные практики
5. **Тестируйте локально** - при необходимости проверьте изменения на своей машине

## Структура веток

- `main` - стабильная ветка для продакшена
- `develop` - ветка для разработки (если используется)
- `feature/*` - ветки для новых функций
- `fix/*` - ветки для исправления ошибок
- `hotfix/*` - критические исправления для продакшена
- `docs/*` - ветки для документации

## Настройка окружения разработки

### Требования
- Node.js 18+
- Java 17+
- Docker и Docker Compose
- Git

### Установка
```bash
# Клонирование репозитория
git clone https://github.com/KJkloun/Portfolio-Risk.git
cd Portfolio-Risk

# Установка зависимостей фронтенда
cd frontend
npm install

# Запуск в режиме разработки
npm run dev

# В другом терминале - запуск бэкенда
cd ../backend
./mvnw spring-boot:run
```

## Контакты

Если у вас есть вопросы, создайте issue или свяжитесь с мейнтейнерами проекта. 